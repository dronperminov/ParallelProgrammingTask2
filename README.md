# Практическое задание 2.Параллельная реализация решателя СЛАУ для параллельной модели с распределенной памятью

Второе задание по курсу "параллельные вычисления" на ВМК МГУ в 2020.
### Вариант B2

## Сборка
Сборка осуществляется с помощью make файла, так что достаточно выполнить в терминале команду `make main`. При этом на Вашей системе должен быть установлен компилятор языка C++, поддерживающий MPI.

## Запуск
Приложение использует обработку аргументов командной строки. Для работы допускается два варианта запуска: `./main path [debug]` и `./main Nx Ny k1 k2 px py eps [debug]`

В первом случае аргументы Nx, Ny, k1, k2, px, py и eps будут считаны из файла, находящегося по пути `path`.

### Аргументы
`path` - путь к файлу с аргументами. Ожидается, что в файле записаны 6 чисел: Nx, Ny, k1, k2, eps, T

`Nx` - количество ячеек сетки по горизонтали

`Ny` - количество ячеек сетки по вертикали

`k1` - количество прямоугольных ячеек сетки

`k2` - количество треугольных ячеек сетки

`eps` - относительная точность решения

`px` – количество процессов по горизонтали

`py` – количество процессов по вертикали

`debug` - использование отладочной информации (`f` - полная отладка, `n` - без отладки)

## Производительность решения (Polus, mpixlC)
Параметры разбиения: k1 = 29, k2 = 37

### Nx = 500, Ny = 500:
|   P   | Генерация, мс | Заполнение, мс |  Решение, мс  |
|   :-: |           :-: |            :-: |           :-: |
|     1 |            51 |             37 |           216 |
|     2 |            40 |             23 |           201 |
|     4 |            20 |             11 |           124 |
|     8 |            18 |              8 |           112 |
|    16 |            16 |              7 |           103 |
|    32 |             9 |              3 |            74 |
|    64 |             4 |              2 |            33 |


### Nx = 1000, Ny = 1000:
|   P   | Генерация, мс | Заполнение, мс |  Решение, мс  |
|   :-: |           :-: |            :-: |           :-: |
|     1 |           217 |            169 |           883 |
|     2 |           119 |             76 |           837 |
|     4 |            85 |             47 |           443 |
|     8 |            70 |             36 |           254 |
|    16 |            37 |             17 |           158 |
|    32 |            36 |             16 |           133 |
|    64 |            18 |              7 |           125 |


### Nx = 2000, Ny = 2000:
|   P   | Генерация, мс | Заполнение, мс |  Решение, мс  |
|   :-: |           :-: |            :-: |           :-: |
|     1 |           837 |            646 |          3702 |
|     2 |           486 |            298 |          3327 |
|     4 |           284 |            147 |          1730 |
|     8 |           195 |             76 |           933 |
|    16 |           166 |             49 |           522 |
|    32 |            62 |             25 |           300 |
|    64 |            78 |             30 |           308 |

## Визуализатор
Для того, чтобы результат работы генератора был более наглядным, имеется html визуализатор. Визуализатор позволяет задавать входные аргументы и отображает сетку и полученные рёбра на ней.
Визуализатор доступен по адресу: <a href="https://programforyou.ru/tests/parallel-visualizer-2">programforyou.ru/tests/parallel-visualizer-2</a>

<img src='https://github.com/dronperminov/ParallelProgrammingTask2/blob/master/examples/visualizer.png' />

## Примеры сеток (результат работы визуализатора)

<table>
  <tr>
    <td><img src='https://github.com/dronperminov/ParallelProgrammingTask2/blob/master/examples/example1.png' /></td>
  </tr>

  <tr>
    <td><img src='https://github.com/dronperminov/ParallelProgrammingTask2/blob/master/examples/example2.png' /></td>
  </tr>
</table>